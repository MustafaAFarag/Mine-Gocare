<div class="rounded-lg bg-white p-6 shadow-sm">
  <h2 class="mb-6 text-xl font-bold text-gray-800">
    {{ "account.refund.title" | translate }}
  </h2>

  <!-- Refund History Table -->
  <div class="overflow-x-auto">
    <table class="w-full">
      <!-- Table Header -->
      <thead>
        <tr class="border-b">
          <th class="px-4 py-4 text-left font-medium text-gray-700">
            {{ "account.refund.order" | translate }}
          </th>
          <th class="px-4 py-4 text-left font-medium text-gray-700">
            {{ "account.refund.status" | translate }}
          </th>
          <th class="px-4 py-4 text-left font-medium text-gray-700">
            {{ "account.refund.price" | translate }}
          </th>
          <th class="px-4 py-4 text-left font-medium text-gray-700">
            {{ "account.refund.reason" | translate }}
          </th>
          <th class="px-4 py-4 text-left font-medium text-gray-700">
            {{ "account.refund.createdAt" | translate }}
          </th>
        </tr>
      </thead>

      <!-- Table Body -->
      <tbody>
        <tr *ngFor="let order of orders" class="border-b hover:bg-gray-50">
          <td class="px-4 py-4 font-medium text-gray-700">
            {{ order.orderNumber }}
          </td>
          <td class="px-4 py-4">
            <span
              class="rounded-md bg-red-100 px-3 py-1 text-sm font-medium text-red-600"
            >
              {{ "account.refund.statusCanceled" | translate }}
            </span>
          </td>
          <td class="px-4 py-4 text-gray-700">
            {{ order.totalPayment }} {{ order.currency.name[currentLang] }}
          </td>
          <td class="px-4 py-4 text-gray-700">
            {{
              order.lastStatusHistory.reason ||
                ("account.refund.noReasonProvided" | translate)
            }}
          </td>
          <td class="px-4 py-4 text-gray-700">
            {{ order.lastStatusHistory.date | date: "medium" }}
          </td>
        </tr>

        <!-- Empty State (shown when no refund requests) -->
        <tr *ngIf="orders.length === 0">
          <td colspan="5" class="py-8 text-center text-gray-500">
            <div class="flex flex-col items-center">
              <i class="ri-refund-2-line mb-2 text-4xl text-gray-400"></i>
              <p>{{ "account.refund.noRefundRequests" | translate }}</p>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div
    *ngIf="orders.length > 0"
    class="mt-4 flex items-center justify-center p-4"
  >
    <button
      (click)="previousPage()"
      id="refund-previous-page-button"
      class="rounded-md p-2 text-gray-600 hover:bg-gray-100"
      [disabled]="currentPage === 1"
      [class.opacity-50]="currentPage === 1"
    >
      <i class="ri-arrow-left-s-line"></i>
    </button>

    <button
      *ngFor="let page of [1]"
      (click)="goToPage(page)"
      id="refund-page-button"
      class="mx-1 flex h-9 min-w-[36px] items-center justify-center rounded-md"
      [class.bg-hover-color]="currentPage === page"
      [class.text-white]="currentPage === page"
      [class.hover:bg-gray-100]="currentPage !== page"
      [class.text-gray-700]="currentPage !== page"
    >
      {{ page }}
    </button>

    <button
      (click)="nextPage()"
      id="refund-next-page-button"
      class="rounded-md p-2 text-gray-600 hover:bg-gray-100"
      [disabled]="currentPage === totalPages"
      [class.opacity-50]="currentPage === totalPages"
    >
      <i class="ri-arrow-right-s-line"></i>
    </button>
  </div>
</div>
